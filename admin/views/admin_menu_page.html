{{ template "admin_header.html" .}}

{{ template "tinymde_component.html" .}}

<header>
    <h2>Menu de Navegação</h2>
</header>

{{if .error}}
<section>
    <p style="color: red;">{{.error}}</p>
</section>
{{end}}

<section>
    <p><strong>Importante:</strong> Apenas links no formato Markdown serão salvos. Todo o restante será descartado.</p>
    <p><strong>Formato:</strong> <code>[Texto do Link](url)</code></p>
    <p><strong>Exemplo:</strong> <code>[Home](/home) [Sobre](/sobre) [Contato](/contato)</code></p>
</section>

<form action="/admin/{{.subdomain}}/menu" method="POST">
    <label for="txt_nav" class="width">
        Links de Navegação (<a href="https://markdown.net.br/referencia-rapida/" target="_blank">Markdown</a>)
        <small>Dica: Use Ctrl+R para visualizar o markdown renderizado • F11 para tela cheia</small>
        <textarea id="txt_nav" name="nav" rows="10" style="font-family: 'Courier New', monospace; white-space: pre-wrap;"> {{.blog.Nav}}</textarea>
    </label>

    <button type="submit">Salvar Menu</button>
    <button type="button" onclick="window.location.href='/admin/{{.subdomain}}/'">Cancelar</button>
</form>

<script>
    // Inicializar TinyMDE sem auto-save (menu não é rascunho)
    const tinyMDEManager = new TinyMDEManager({
        textareaId: 'txt_nav',
        autoSave: false
    });
</script>

{{ template "admin_footer.html" .}}
